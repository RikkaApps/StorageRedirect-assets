### 被重新導向程式的行為變化

* 對 _標準資料夾_ 以外的檔案和資料夾讀寫操作會被重新導向至 「重新導向目標」資料夾

  舉例來說，假設有一個叫 aaa (package: `example.aaa`) 的程式．讀寫 `aaa/blbl.txt` 時，實際會讀寫 _「重新導向目標」資料夾_ (預設 `Android/data/example.aaa/sdcard`)，因為 `aaa` 不是 _標準資料夾_

* 寫入在 _標準資料夾_ 以外的檔案會受到 Android 系統管理
  
  * 程式的儲存空間使用會計入這些檔案
  * 清除程式資料（或快取，取決於「重新導向目標」設定）及解除安裝程式時會一併清除這些檔案

> 「重新導向目標」資料夾可以自定義，可以在設定中全域性設定，或者為單個程式配置。

> _標準資料夾_ 指 Android 系統預設會建立的資料夾，如 `Android` `Pictures` `Music` 等。在未來的版本可以針對每個程式單獨指定什麼是標準資料夾。

### 被重新導向的程式仍會產生檔案

請嘗試 [增強模組](https://rikka.app/storage_redirect/docs/zh-TW/?doc=%E5%A2%9E%E5%BC%B7%E6%A8%A1%E7%B5%84)

### 會影響程式正常使用的情況

* 程式使用系統的 _下載管理器_，如果存放位置不在 _標準資料夾_ 內，程式會無法使用下載後的檔案
* 程式會無法存取 _標準資料夾_ 以外的檔案和資料夾，如發送圖片、發送檔案等功能會受到影響（如果需要存取的檔案不在 _標準資料夾_ 內）
* 接收 file uri 的分享，如果檔案不在  _標準資料夾_ 內會提示找不到檔案（但是分享 file uri 出去的劣質程式只是少數）
* 啟動其他程式時使用 file uri（如 QQ 的使用其他程式打開接收的檔案），如果檔案不在  _標準資料夾_ 內會提示找不到檔案（但不必擔心，因為像 QQ 這樣的劣質程式只是少數）

### 注意

* 開啟重新導向時，被重新導向程式會被強行停止
* 因為 `/sdcard` 中的檔案並沒有具體所有者，重新導向程式之前產生的檔案需要手動刪除
* 不要手動撤銷被重新導向程式的儲存權限，否則如果在使用中授予儲存權限，重新導向會失效
* 為避免在部分設備上的問題，從 0.12.0 版本開始，被重新導向的程式的儲存權限會在開啟重新導向和每次重新導向服務啟動時被授予；從 0.15.9 版本開始，儲存權限會被每次啟動程式時被授予